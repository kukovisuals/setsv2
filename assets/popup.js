!function(o){o.fn.Popup=function(n){var p=o.extend({centerPopup:!0,open:function(){},closed:function(){}},n),e=o(this),t=o.extend(p,n),i={init:function(){return this.each(function(){i.appendHTML(),i.setEventHandlers(),i.showPopup()})},appendHTML:function(){if(0===o(".PopupBackground").length){o("body").prepend('<div class="PopupBackground"></div>')}if(0===e.find(".PopupClose").length){e.prepend('<div class="PopupClose">X</div>')}},setEventHandlers:function(){o(".PopupClose, .PopupBackground").on("click",function(o){i.hidePopup()}),o(window).on("resize",function(o){t.centerPopup&&i.positionPopup()})},removeEventListners:function(){o(".PopupClose, .PopupBackground").off("click")},showPopup:function(){o(".PopupBackground").css({opacity:"0.7"}),o(".PopupBackground").fadeIn("fast"),e.fadeIn("slow",function(){t.open()}),t.centerPopup&&i.positionPopup()},hidePopup:function(){o(".PopupBackground").fadeOut("fast"),e.fadeOut("fast",function(){i.removeEventListners(),t.closed()})},positionPopup:function(){var n=o(window).width(),p=o(window).height(),t=e.width(),i=p/2-e.height()/2,u=n/2-t/2;if(n<1025)u=n/2-t/1.9;if(n<767)u=n/2-t/1.7;i<30&&(i=30),e.css({position:"absolute",top:i,left:u})}};return i[n]?i[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?void o.error('Method "'+method+'" does not exist in popup plugin!'):i.init.apply(this)}}(jQuery);